# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                wx
version             0.1.0
categories          devel
platforms           darwin linux
license             MIT
maintainers         nomaintainer
description         WebAssembly runtime written in Zig
long_description    wx is a WebAssembly runtime written in Zig with basic WASI support, \
                    focused on performance and simplicity.

homepage            https://github.com/clpi/wx
master_sites        https://github.com/clpi/wx/releases/download/v${version}/

if {${configure.build_arch} eq "arm64"} {
    distfiles           wx-macos-aarch64
    checksums           rmd160  SKIP \
                        sha256  SKIP \
                        size    SKIP
} else {
    distfiles           wx-macos-x86_64
    checksums           rmd160  SKIP \
                        sha256  SKIP \
                        size    SKIP
}

extract.only        

use_configure       no

build {}

destroot {
    xinstall -m 755 ${distpath}/${distfiles} ${destroot}${prefix}/bin/wx
}
